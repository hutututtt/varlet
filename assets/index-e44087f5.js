import{F as H,u as U}from"./provide-1db4002d.js";import{d as V,k as F,a as d,c as j,u as Z}from"./components-b798c95f.js";import{d as W,b as K,w as G,n as Y,_ as q,p as A,f as N,h as T,M as w,O,N as u,q as b,a as I,ag as E,D as _,R as x,m as ee}from"./vue-router-0bbd6486.js";import{I as ae}from"./index-033b4f4e.js";import{v as oe}from"./index-9e1b28d2.js";import{v as re}from"./index-5cbdb505.js";import{u as ne}from"./useChildren-7008b9d6.js";import{H as se,u as le}from"./index-fbb0fcba.js";function ie(e){return["horizontal","vertical"].includes(e)}const de={modelValue:{type:[String,Number,Boolean,Object,Array],default:void 0},direction:{type:String,default:"horizontal",validator:ie},validateTrigger:{type:Array,default:()=>["onChange"]},rules:{type:Array},onChange:V(),"onUpdate:modelValue":V()},L=Symbol("RADIO_GROUP_BIND_RADIO_KEY");function te(){const{bindChildren:e,childProviders:o,length:s}=ne(L);return{length:s,radios:o,bindRadios:e}}const{n:ce,classes:ue}=j("radio-group"),ve=W({name:"VarRadioGroup",components:{VarFormDetails:H},props:de,setup(e){const{length:o,radios:s,bindRadios:v}=te(),{bindForm:l}=U(),{errorMessage:m,validateWithTrigger:t,validate:p,resetValidation:a}=F(),f=K(()=>m.value),y=c=>{Y(()=>{const{validateTrigger:M,rules:C,modelValue:$}=e;t(M,c,C,$)})},g=()=>s.forEach(({sync:c})=>c(e.modelValue)),S=c=>{d(e["onUpdate:modelValue"],c),d(e.onChange,c),y("onChange")},h=()=>p(e.rules,e.modelValue),R=()=>{d(e["onUpdate:modelValue"],void 0),a()};G(()=>e.modelValue,g),G(()=>o.value,g);const k={onToggle:S,validate:h,reset:R,resetValidation:a,errorMessage:f};return d(l,k),v(k),{errorMessage:m,n:ce,classes:ue,reset:R,validate:h,resetValidation:a}}});function me(e,o,s,v,l,m){const t=A("var-form-details");return N(),T("div",{class:u(e.n("wrap"))},[w("div",{class:u(e.classes(e.n(),e.n(`--${e.direction}`)))},[O(e.$slots,"default")],2),b(t,{"error-message":e.errorMessage},null,8,["error-message"])],2)}const B=q(ve,[["render",me]]);B.install=function(e){e.component(B.name,B)};const ge={modelValue:{type:[String,Number,Boolean,Object,Array],default:!1},checkedValue:{type:[String,Number,Boolean,Object,Array],default:!0},uncheckedValue:{type:[String,Number,Boolean,Object,Array],default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},checkedColor:{type:String},uncheckedColor:{type:String},iconSize:{type:[String,Number]},ripple:{type:Boolean,default:!0},validateTrigger:{type:Array,default:()=>["onChange"]},rules:{type:Array},onClick:V(),onChange:V(),"onUpdate:modelValue":V()};function he(){const{bindParent:e,parentProvider:o,index:s}=Z(L);return{index:s,radioGroup:o,bindRadioGroup:e}}const{n:pe,classes:fe}=j("radio"),ye=W({name:"VarRadio",directives:{Ripple:oe,Hover:re},components:{VarIcon:ae,VarFormDetails:H,VarHoverOverlay:se},inheritAttrs:!1,props:ge,setup(e){const o=I(!1),s=K(()=>o.value===e.checkedValue),v=I(!1),{radioGroup:l,bindRadioGroup:m}=he(),{hovering:t,handleHovering:p}=le(),{form:a,bindForm:f}=U(),{errorMessage:y,validateWithTrigger:g,validate:S,resetValidation:h}=F(),R=r=>{Y(()=>{const{validateTrigger:n,rules:i,modelValue:D}=e;g(n,r,i,D)})},k=r=>{const{checkedValue:n,onChange:i}=e;l&&o.value===n||(o.value=r,d(e["onUpdate:modelValue"],o.value),d(i,o.value),l==null||l.onToggle(n),R("onChange"))},c=r=>{const{disabled:n,readonly:i,uncheckedValue:D,checkedValue:Q,onClick:X}=e;a!=null&&a.disabled.value||n||(d(X,r),!(a!=null&&a.readonly.value||i)&&(v.value=!0,k(s.value?D:Q)))},M=r=>{const{checkedValue:n,uncheckedValue:i}=e;o.value=r===n?n:i},C=()=>{d(e["onUpdate:modelValue"],e.uncheckedValue),h()},$=()=>S(e.rules,e.modelValue),J=r=>{const{uncheckedValue:n,checkedValue:i}=e;![n,i].includes(r)&&(r=s.value?n:i),k(r)};G(()=>e.modelValue,r=>{o.value=r},{immediate:!0});const P={sync:M,validate:$,resetValidation:h,reset:C};return d(m,P),d(f,P),{withAnimation:v,checked:s,errorMessage:y,radioGroupErrorMessage:l==null?void 0:l.errorMessage,formDisabled:a==null?void 0:a.disabled,formReadonly:a==null?void 0:a.readonly,hovering:t,handleHovering:p,n:pe,classes:fe,handleClick:c,toggle:J,reset:C,validate:$,resetValidation:h}}});function ke(e,o,s,v,l,m){const t=A("var-icon"),p=A("var-hover-overlay"),a=A("var-form-details"),f=E("ripple"),y=E("hover");return N(),T("div",{class:u(e.n("wrap"))},[w("div",ee({class:e.n(),onClick:o[0]||(o[0]=(...g)=>e.handleClick&&e.handleClick(...g))},e.$attrs),[_((N(),T("div",{class:u(e.classes(e.n("action"),[e.checked,e.n("--checked"),e.n("--unchecked")],[e.errorMessage||e.radioGroupErrorMessage,e.n("--error")],[e.formDisabled||e.disabled,e.n("--disabled")])),style:x({color:e.checked?e.checkedColor:e.uncheckedColor})},[e.checked?O(e.$slots,"checked-icon",{key:0},()=>[b(t,{class:u(e.classes(e.n("icon"),[e.withAnimation,e.n("--with-animation")])),"var-radio-cover":"",name:"radio-marked",size:e.iconSize},null,8,["class","size"])]):O(e.$slots,"unchecked-icon",{key:1},()=>[b(t,{class:u(e.classes(e.n("icon"),[e.withAnimation,e.n("--with-animation")])),"var-radio-cover":"",name:"radio-blank",size:e.iconSize},null,8,["class","size"])]),b(p,{hovering:!e.disabled&&!e.formDisabled&&e.hovering},null,8,["hovering"])],6)),[[f,{disabled:e.formReadonly||e.readonly||e.formDisabled||e.disabled||!e.ripple}],[y,e.handleHovering,"desktop"]]),w("div",{class:u(e.classes(e.n("text"),[e.errorMessage||e.radioGroupErrorMessage,e.n("--error")],[e.formDisabled||e.disabled,e.n("--disabled")]))},[O(e.$slots,"default")],2)],16),b(a,{"error-message":e.errorMessage},null,8,["error-message"])],2)}const z=q(ye,[["render",ke]]);z.install=function(e){e.component(z.name,z)};export{z as R,B as a};
