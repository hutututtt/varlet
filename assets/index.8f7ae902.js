import{R as m}from"./index.f2d45089.js";import{p as i,L as y}from"./index.adc7ecaf.js";import{p as r,c}from"./components.b28276ef.js";import{d as v,a as b,_ as $,p as h,ag as k,D as B,f as p,h as C,i as z,N as d,j as S,M as T,O as L,R as V}from"./vue-router.esm-bundler.2ed3d3be.js";function N(e){return["default","primary","info","success","warning","danger"].includes(e)}function R(e){return["normal","mini","small","large"].includes(e)}const D={type:{type:String,default:"default",validator:N},size:{type:String,default:"normal",validator:R},loading:{type:Boolean,default:!1},round:{type:Boolean,default:!1},block:{type:Boolean,default:!1},text:{type:Boolean,default:!1},outline:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},ripple:{type:Boolean,default:!0},color:{type:String},textColor:{type:String},autoLoading:{type:Boolean,default:!1},loadingRadius:{type:[Number,String]},loadingType:r(i,"type"),loadingSize:r(i,"size"),loadingColor:{...r(i,"color"),default:"currentColor"},onClick:{type:Function},onTouchstart:{type:Function}},{n:w,classes:F}=c("button"),P=v({name:"VarButton",components:{VarLoading:y},directives:{Ripple:m},props:D,setup(e){const o=b(!1),t=a=>{e.autoLoading&&(o.value=!0,Promise.resolve(a).then(()=>{o.value=!1}).catch(()=>{o.value=!1}))};return{n:w,classes:F,pending:o,handleClick:a=>{const{loading:l,disabled:s,onClick:n}=e;!n||l||s||o.value||t(n(a))},handleTouchstart:a=>{const{loading:l,disabled:s,onTouchstart:n}=e;!n||l||s||o.value||t(n(a))}}}});const j=["disabled"];function A(e,o,t,f,g,a){const l=h("var-loading"),s=k("ripple");return B((p(),C("button",{class:d(e.classes(e.n(),e.n("$--box"),e.n(`--${e.size}`),[e.block,`${e.n("$--flex")} ${e.n("--block")}`,e.n("$--inline-flex")],[e.disabled,e.n("--disabled")],[e.text,`${e.n(`--text-${e.type}`)} ${e.n("--text")}`,`${e.n(`--${e.type}`)} ${e.n("$-elevation--2")}`],[e.text&&e.disabled,e.n("--text-disabled")],[e.round,e.n("--round")],[e.outline,e.n("--outline")])),style:V({color:e.textColor,background:e.color}),disabled:e.disabled,onClick:o[0]||(o[0]=(...n)=>e.handleClick&&e.handleClick(...n)),onTouchstart:o[1]||(o[1]=(...n)=>e.handleTouchstart&&e.handleTouchstart(...n))},[e.loading||e.pending?(p(),z(l,{key:0,class:d(e.n("loading")),"var-button-cover":"",color:e.loadingColor,type:e.loadingType,size:e.loadingSize,radius:e.loadingRadius},null,8,["class","color","type","size","radius"])):S("",!0),T("div",{class:d(e.classes(e.n("content"),[e.loading||e.pending,e.n("--hidden")]))},[L(e.$slots,"default")],2)],46,j)),[[s,{disabled:e.disabled||!e.ripple}]])}const u=$(P,[["render",A]]);u.install=function(e){e.component(u.name,u)};export{u as B};
