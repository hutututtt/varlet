var de=Object.defineProperty;var q=Object.getOwnPropertySymbols;var fe=Object.prototype.hasOwnProperty,ge=Object.prototype.propertyIsEnumerable;var J=(e,o,i)=>o in e?de(e,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[o]=i,G=(e,o)=>{for(var i in o||(o={}))fe.call(o,i)&&J(e,i,o[i]);if(q)for(var i of q(o))ge.call(o,i)&&J(e,i,o[i]);return e};import{A as T}from"./AppType.e18d39ce.js";import{B as pe}from"./index.62bc3856.js";import{j as Ce,l as he,c as K,a as A,i as Ne,h as Be,m as ye}from"./components.8c0c409a.js";import{d as x,a as d,b as F,w as z,o as Ie,ae as Ae,_ as ee,q as H,e as k,f as P,H as M,h as D,O as u,m as ae,j as $,G as U,J as le,aa as ke,i as Ee,k as Te,F as te,K as y,M as I,s as l,af as a}from"./elevation.ab53b24c.js";import{R as _e}from"./index.2041b473.js";import{B as Se}from"./index.3142bd3e.js";import{I as ne}from"./index.a2cba232.js";import{S as Q}from"./index.e7c0b87f.js";import{d as Oe}from"./index.5d153c96.js";import{u as Fe,a as oe,_ as $e,b as Ue,c as Pe}from"./en-US.20b89d07.js";import{a as Me,b as De}from"./utils.969b6286.js";import"./index.f1147541.js";import"./index.e14d0f00.js";/* empty css               */import"./elements.5ea58f07.js";import"./zIndex.36a11543.js";import"./lock.542c4db9.js";const Le={active:{type:[Number,String],default:0},fixed:{type:Boolean,default:!1},border:{type:Boolean,default:!1},safeArea:{type:Boolean,default:!1},zIndex:{type:[Number,String],default:1},activeColor:{type:String},inactiveColor:{type:String},onChange:{type:Function},"onUpdate:active":{type:Function},onBeforeChange:{type:Function},onFabClick:{type:Function},fabProps:{type:Object}},ie=Symbol("BOTTOM_NAVIGATION_BIND_BOTTOM_NAVIGATION_ITEM_KEY"),se=Symbol("BOTTOM_NAVIGATION_COUNT_BOTTOM_NAVIGATION_ITEM_KEY");function Ve(){const{childProviders:e,bindChildren:o}=Ce(ie),{length:i}=he(se);return{length:i,bottomNavigationItems:e,bindBottomNavigationItem:o}}const{n:we,classes:Ge}=K("bottom-navigation"),{n:L}=K("bottom-navigation-item"),W=L("--right-half-space"),X=L("--left-half-space"),Z=L("--right-space"),ze={type:"primary"},He=x({name:"VarBottomNavigation",components:{VarButton:pe},props:Le,setup(e,{slots:o}){const i=d(null),m=F(()=>e.active),f=F(()=>e.activeColor),h=F(()=>e.inactiveColor),v=d({}),{length:b,bottomNavigationItems:N,bindBottomNavigationItem:g}=Ve(),_=()=>{b.value===0||E()||B()||s()},E=()=>N.find(({name:c})=>m.value===c.value),B=()=>N.find(({index:c})=>m.value===c.value),s=()=>{!Ne(m.value)||(m.value<0?A(e["onUpdate:active"],0):m.value>b.value-1&&A(e["onUpdate:active"],b.value-1))},r=c=>{e.onBeforeChange?re(c):R(c)},re=c=>{Promise.resolve(A(e.onBeforeChange,c)).then(p=>p&&R(c))},R=c=>{A(e["onUpdate:active"],c),A(e.onChange,c)},ue=()=>{Y().forEach(p=>{p.classList.remove(W,X,Z)})},j=c=>{const p=Y(),S=p.length,O=c%2===0;p.forEach((V,w)=>{be(O,V,w,S)})},be=(c,p,S,O)=>{const V=S===O-1;if(!c&&V){p.classList.add(Z);return}const w=S===O/2-1,ve=S===O/2;w?p.classList.add(W):ve&&p.classList.add(X)},Y=()=>Array.from(i.value.querySelectorAll(`.${L()}`)),me=()=>{A(e.onFabClick)};return g({active:m,activeColor:f,inactiveColor:h,onToggle:r}),z(()=>b.value,_),z(()=>e.fabProps,c=>{v.value=G(G({},ze),c)},{immediate:!0,deep:!0}),Ie(()=>{!o.fab||j(b.value)}),Ae(()=>{ue(),o.fab&&j(b.value)}),{n:we,classes:Ge,length:b,bottomNavigationDom:i,handleFabClick:me,fabProps:v}}});function Ke(e,o,i,m,f,h){const v=H("var-button");return k(),P("div",{class:U(e.classes(e.n(),[e.fixed,e.n("--fixed")],[e.border,e.n("--border")],[e.safeArea,e.n("--safe-area")])),ref:"bottomNavigationDom",style:le(`z-index:${e.zIndex}`)},[M(e.$slots,"default"),e.$slots.fab?(k(),D(v,ae({key:0,class:e.classes(e.n("fab"),[e.length%2,e.n("--fab-right"),e.n("--fab-center")]),"var-bottom-navigation__fab":"",onClick:e.handleFabClick},e.fabProps,{round:""}),{default:u(()=>[M(e.$slots,"fab")]),_:3},16,["class","onClick"])):$("v-if",!0)],6)}var C=ee(He,[["render",Ke]]);C.install=function(e){e.component(C.name,C)};const Re={name:{type:String},icon:{type:String},label:{type:String},namespace:{type:String,default:"var-icon"},badge:{type:[Boolean,Object],default:!1},onClick:{type:Function}};function je(){const{parentProvider:e,bindParent:o}=Be(ie),{index:i}=ye(se);if(!e||!o||!i)throw Error("<var-bottom-navigation-item/> must in <var-bottom-navigation/>");return{index:i,bottomNavigation:e,bindBottomNavigation:o}}const{n:Ye,classes:qe}=K("bottom-navigation-item"),Je={type:"danger",dot:!0},Qe=x({name:"VarBottomNavigationItem",components:{VarBadge:Se,VarIcon:ne},directives:{Ripple:_e},props:Re,setup(e){const o=F(()=>e.name),i=F(()=>e.badge),m=d({}),{index:f,bottomNavigation:h,bindBottomNavigation:v}=je(),{active:b,activeColor:N,inactiveColor:g}=h,_={name:o,index:f},E=()=>b.value===o.value||b.value===f.value?N.value:g.value,B=()=>{const s=o.value||f.value;A(e.onClick,s),A(h.onToggle,s)};return v(_),z(()=>i.value,s=>{m.value=s===!0?Je:i.value},{immediate:!0}),{n:Ye,classes:qe,index:f,active:b,badge:i,badgeProps:m,computeColorStyle:E,handleClick:B}}});function We(e,o,i,m,f,h){const v=H("var-icon"),b=H("var-badge"),N=ke("ripple");return Ee((k(),P("button",{class:U(e.classes(e.n(),[e.active===e.index||e.active===e.name,e.n("--active")])),style:le({color:e.computeColorStyle()}),onClick:o[0]||(o[0]=(...g)=>e.handleClick&&e.handleClick(...g))},[e.icon&&!e.$slots.icon?(k(),D(v,{key:0,name:e.icon,namespace:e.namespace,class:U(e.n("icon")),"var-bottom-navigation-item-cover":""},null,8,["name","namespace","class"])):$("v-if",!0),M(e.$slots,"icon",{active:e.active===e.index||e.active===e.name}),e.badge?(k(),D(b,ae({key:1},e.badgeProps,{class:e.n("badge"),"var-bottom-navigation-item-cover":""}),null,16,["class"])):$("v-if",!0),Te("span",{class:U(e.n("label"))},[e.$slots.default?$("v-if",!0):(k(),P(te,{key:0},[y(I(e.label),1)],2112)),M(e.$slots,"default")],2)],6)),[[N]])}var n=ee(Qe,[["render",We]]);n.install=function(e){e.component(n.name,n)};var Xe={basicUsage:"\u57FA\u672C\u4F7F\u7528",matchByName:"\u901A\u8FC7\u540D\u79F0\u5339\u914D",showBadge:"\u5FBD\u6807\u63D0\u793A",customColor:"\u81EA\u5B9A\u4E49\u989C\u8272",changeEvent:"\u76D1\u542C\u5207\u6362\u4E8B\u4EF6",clickEvent:"\u76D1\u542C\u70B9\u51FB\u4E8B\u4EF6",fab:"\u60AC\u6D6E\u6309\u94AE",label:"\u6807\u7B7E"},Ze={basicUsage:"Basic Usage",matchByName:"Match by name",showBadge:"Show Badge",customColor:"Custom Color",changeEvent:"Change Event",clickEvent:"Click Event",fab:"Fab",label:"label"};const{add:ce,use:xe,pack:t,packs:Na,merge:Ba}=Fe(),ea=e=>{Pe(e),xe(e)};oe("zh-CN",$e);oe("en-US",Ue);ce("zh-CN",Xe);ce("en-US",Ze);const ya={setup(e){const o=d(0),i=d("home"),m=d(0),f={type:"primary",value:"66"},h=d(0),v=d(0);function b(B){Q.info(`changed to ${B}`)}const N=d(0);function g(B){Q.success(`clicked ${B}`)}const _=d(0),E=d(!0);return Me(ea),De(Oe),(B,s)=>(k(),P(te,null,[l(a(T),null,{default:u(()=>[y(I(a(t).basicUsage),1)]),_:1}),l(a(C),{active:o.value,"onUpdate:active":s[0]||(s[0]=r=>o.value=r)},{default:u(()=>[l(a(n),{label:a(t).label,icon:"home"},null,8,["label"]),l(a(n),{label:a(t).label,icon:"magnify"},null,8,["label"]),l(a(n),{label:a(t).label,icon:"heart"},null,8,["label"]),l(a(n),{label:a(t).label,icon:"account-circle"},null,8,["label"])]),_:1},8,["active"]),l(a(T),null,{default:u(()=>[y(I(a(t).matchByName),1)]),_:1}),l(a(C),{active:i.value,"onUpdate:active":s[1]||(s[1]=r=>i.value=r)},{default:u(()=>[l(a(n),{name:"home",label:a(t).label,icon:"home"},null,8,["label"]),l(a(n),{name:"search",label:a(t).label,icon:"magnify"},null,8,["label"]),l(a(n),{name:"heart",label:a(t).label,icon:"heart"},null,8,["label"]),l(a(n),{name:"user",label:a(t).label,icon:"account-circle"},null,8,["label"])]),_:1},8,["active"]),l(a(T),null,{default:u(()=>[y(I(a(t).showBadge),1)]),_:1}),l(a(C),{active:m.value,"onUpdate:active":s[2]||(s[2]=r=>m.value=r)},{default:u(()=>[l(a(n),{label:a(t).label,icon:"home"},null,8,["label"]),l(a(n),{label:a(t).label,icon:"magnify",badge:""},null,8,["label"]),l(a(n),{label:a(t).label,icon:"heart",badge:f},null,8,["label"]),l(a(n),{label:a(t).label,icon:"account-circle"},null,8,["label"])]),_:1},8,["active"]),l(a(T),null,{default:u(()=>[y(I(a(t).customColor),1)]),_:1}),l(a(C),{"active-color":"#ba68c8",active:h.value,"onUpdate:active":s[3]||(s[3]=r=>h.value=r)},{default:u(()=>[l(a(n),{label:a(t).label,icon:"home"},null,8,["label"]),l(a(n),{label:a(t).label,icon:"magnify"},null,8,["label"]),l(a(n),{label:a(t).label,icon:"heart"},null,8,["label"]),l(a(n),{label:a(t).label,icon:"account-circle"},null,8,["label"])]),_:1},8,["active"]),l(a(T),null,{default:u(()=>[y(I(a(t).changeEvent),1)]),_:1}),l(a(C),{active:v.value,"onUpdate:active":s[4]||(s[4]=r=>v.value=r),onChange:b},{default:u(()=>[l(a(n),{label:a(t).label,icon:"home"},null,8,["label"]),l(a(n),{label:a(t).label,icon:"magnify"},null,8,["label"]),l(a(n),{label:a(t).label,icon:"heart"},null,8,["label"]),l(a(n),{label:a(t).label,icon:"account-circle"},null,8,["label"])]),_:1},8,["active"]),l(a(T),null,{default:u(()=>[y(I(a(t).clickEvent),1)]),_:1}),l(a(C),{active:N.value,"onUpdate:active":s[5]||(s[5]=r=>N.value=r)},{default:u(()=>[l(a(n),{onClick:g,label:a(t).label,icon:"home"},null,8,["label"]),l(a(n),{onClick:g,label:a(t).label,icon:"magnify"},null,8,["label"]),l(a(n),{onClick:g,label:a(t).label,icon:"heart"},null,8,["label"]),l(a(n),{onClick:g,label:a(t).label,icon:"account-circle"},null,8,["label"])]),_:1},8,["active"]),l(a(T),null,{default:u(()=>[y(I(a(t).fab),1)]),_:1}),l(a(C),{active:_.value,"onUpdate:active":s[6]||(s[6]=r=>_.value=r),onFabClick:s[7]||(s[7]=r=>E.value=!E.value),style:{"margin-top":"10px"}},{fab:u(()=>[l(a(ne),{name:"heart"})]),default:u(()=>[l(a(n),{label:a(t).label,icon:"home"},null,8,["label"]),l(a(n),{label:a(t).label,icon:"magnify"},null,8,["label"]),l(a(n),{label:a(t).label,icon:"heart"},null,8,["label"]),l(a(n),{label:a(t).label,icon:"bell"},null,8,["label"]),E.value?$("v-if",!0):(k(),D(a(n),{key:0,label:a(t).label,icon:"account-circle"},null,8,["label"]))]),_:1},8,["active"])],64))}};export{ya as default};
