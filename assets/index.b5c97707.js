import{A as _}from"./AppType.e18d39ce.js";import{j,l as G,c as D,a as k,s as L,h as W,m as J}from"./components.8c0c409a.js";import{d as O,b as T,w as F,_ as z,e as U,f as w,H as E,G as C,n as N,a as I,q as Q,k as y,i as R,v as X,K as c,M as m,s as o,r as Z,af as t,O as n,F as x}from"./elevation.ab53b24c.js";import{r as ee}from"./elements.5ea58f07.js";import{I as te}from"./index.a2cba232.js";import{B as le}from"./index.62bc3856.js";import{S as ae}from"./index.a7cbb0ff.js";import{d as ne}from"./index.5d153c96.js";import{u as oe,a as H,_ as se,b as ie,c as ue}from"./en-US.20b89d07.js";import{a as re,b as de}from"./utils.969b6286.js";import"./index.2041b473.js";import"./index.e14d0f00.js";/* empty css               */import"./index.f1147541.js";const K=Symbol("COLLAPSE_BIND_COLLAPSE_ITEM_KEY"),Y=Symbol("COLLAPSE_COUNT_COLLAPSE_ITEM_KEY");function ce(){const{bindChildren:e,childProviders:i}=j(K),{length:a}=G(Y);return{length:a,collapseItem:i,bindCollapseItem:e}}const me={modelValue:{type:[Array,String,Number]},accordion:{type:Boolean,default:!1},offset:{type:Boolean,default:!0},onChange:{type:Function},"onUpdate:modelValue":{type:Function}};const{n:fe}=D("collapse"),ve=O({name:"VarCollapse",props:me,setup(e){const{length:i,collapseItem:a,bindCollapseItem:V}=ce(),f=T(()=>e.modelValue),u=T(()=>e.offset),s=()=>!e.accordion&&!L(e.modelValue)?(console.error('[Varlet] Collapse: type of prop "modelValue" should be an Array'),!1):e.accordion&&L(e.modelValue)?(console.error('[Varlet] Collapse: type of prop "modelValue" should be a String or Number'),!1):!0,b=(d,r)=>s()?r?e.accordion?d:[...e.modelValue,d]:e.accordion?null:e.modelValue.filter(p=>p!==d):null,A=(d,r)=>{const p=b(d,r);k(e["onUpdate:modelValue"],p),k(e.onChange,p)},$=()=>{if(e.accordion)return a.find(({name:r})=>e.modelValue===r.value);const d=a.filter(({name:r})=>r.value===void 0?!1:e.modelValue.includes(r.value));return d.length?d:void 0},P=()=>e.accordion?a.find(({index:d,name:r})=>r.value===void 0?e.modelValue===d.value:!1):a.filter(({index:d,name:r})=>r.value===void 0?e.modelValue.includes(d.value):!1),S=()=>{if(!s())return;const d=$()||P();if(e.accordion&&!d||!e.accordion&&!d.length){a.forEach(r=>{r.init(e.accordion,!1)});return}a.forEach(r=>{const p=e.accordion?d===r:d.includes(r);r.init(e.accordion,p)})};return V({active:f,offset:u,updateItem:A}),F(()=>i.value,()=>N().then(S)),F(()=>e.modelValue,()=>N().then(S)),{n:fe}}});function pe(e,i,a,V,f,u){return U(),w("div",{class:C(e.n())},[E(e.$slots,"default")],2)}var h=z(ve,[["render",pe]]);h.install=function(e){e.component(h.name,h)};function Ce(){const{parentProvider:e,bindParent:i}=W(K),{index:a}=J(Y);if(!e||!i||!a)throw Error("[Varlet] Collapse: <var-collapse-item/> must in <var-collapse>");return{index:a,collapse:e,bindCollapse:i}}const he={name:{type:[String,Number]},title:{type:String},icon:{type:String,default:"chevron-down"},disabled:{type:Boolean,default:!1}};const{n:Ve,classes:be}=D("collapse-item"),ge=O({name:"VarCollapseItem",components:{VarIcon:te},props:he,setup(e){const{index:i,collapse:a,bindCollapse:V}=Ce(),f=I(null),u=I(!1),s=I(!1),{active:b,offset:A,updateItem:$}=a,P=T(()=>e.name),S=(g,M)=>{b.value===void 0||g&&L(b.value)||M===s.value||(s.value=M,B(!0))},B=g=>{e.disabled||g||$(e.name||i.value,!s.value)},d=()=>{!f.value||(f.value.style.height="",u.value=!0,N(()=>{const{offsetHeight:g}=f.value;f.value.style.height=0+"px",ee(()=>{f.value.style.height=g+"px"})}))},r=()=>{!f.value||(f.value.style.height=0+"px")},p=()=>{s.value||(u.value=!1,f.value.style.height="")};return V({index:i,name:P,init:S}),F(s,g=>{g?d():r()}),{n:Ve,classes:be,show:u,isShow:s,offset:A,toggle:B,contentEl:f,transitionend:p}}});function _e(e,i,a,V,f,u){const s=Q("var-icon");return U(),w("div",{class:C(e.classes(e.n(),[e.offset&&e.isShow,e.n("--active")],[e.disabled,e.n("--disable")]))},[y("div",{class:C(e.n("header")),onClick:i[0]||(i[0]=b=>e.toggle())},[y("div",{class:C(e.n("header-title"))},[E(e.$slots,"title",{},()=>[c(m(e.title),1)])],2),y("div",{class:C(e.n("header-icon"))},[E(e.$slots,"icon",{},()=>[o(s,{name:e.icon,transition:250,class:C(e.classes(e.n("header-icon"),[e.isShow&&e.icon==="chevron-down",e.n("header-open")],[e.disabled,e.n("header--disable")]))},null,8,["name","class"])])],2)],2),R(y("div",{class:C(e.n("content")),ref:"contentEl",onTransitionend:i[1]||(i[1]=(...b)=>e.transitionend&&e.transitionend(...b))},[y("div",{class:C(e.n("content-wrap"))},[E(e.$slots,"default")],2)],34),[[X,e.show]])],2)}var v=z(ge,[["render",_e]]);v.install=function(e){e.component(v.name,v)};var ye={basicUsage:"\u57FA\u672C\u4F7F\u7528",hideMargin:"\u9690\u85CF\u8FB9\u8DDD",accordionMode:"\u624B\u98CE\u7434\u6A21\u5F0F",disabled:"\u7981\u7528",enable:"\u542F\u7528",customContent:"\u81EA\u5B9A\u4E49\u5185\u5BB9",title:"\u6807\u9898",text:"\u6587\u672C",slotTitle:"\u8FD9\u662F\u6807\u9898",slotContent:"\u8FD9\u662F\u5185\u5BB9"},Se={basicUsage:"Basic Usage",hideMargin:"Hide Margin",accordionMode:"Accordion Mode",disabled:"Disabled",enable:"Enable",customContent:"Custom Content",title:"Title",text:"Hello World",slotTitle:"This is a Title",slotContent:"This is a content"};const{add:q,use:Ee,pack:l,packs:Ke,merge:Ye}=oe(),Ie=e=>{ue(e),Ee(e)};H("zh-CN",se);H("en-US",ie);q("zh-CN",ye);q("en-US",Se);const Ae=c("^_^"),qe={setup(e){const i=I(!1),a=Z({value:["1"],value1:"",value2:[1],value3:["1"],value4:["2"]}),V=f=>{console.log(f)};return re(Ie),de(ne),(f,u)=>(U(),w(x,null,[o(t(_),null,{default:n(()=>[c(m(t(l).basicUsage),1)]),_:1}),o(t(h),{modelValue:t(a).value,"onUpdate:modelValue":u[0]||(u[0]=s=>t(a).value=s),onChange:V},{default:n(()=>[o(t(v),{title:t(l).title,name:"1"},{default:n(()=>[c(m(t(l).text),1)]),_:1},8,["title"]),o(t(v),{title:t(l).title,name:"2"},{default:n(()=>[c(m(t(l).text),1)]),_:1},8,["title"])]),_:1},8,["modelValue"]),o(t(_),null,{default:n(()=>[c(m(t(l).hideMargin),1)]),_:1}),o(t(h),{modelValue:t(a).value4,"onUpdate:modelValue":u[1]||(u[1]=s=>t(a).value4=s),offset:!1},{default:n(()=>[o(t(v),{title:t(l).title,name:"1"},{default:n(()=>[c(m(t(l).text),1)]),_:1},8,["title"]),o(t(v),{title:t(l).title,name:"2"},{default:n(()=>[c(m(t(l).text),1)]),_:1},8,["title"])]),_:1},8,["modelValue"]),o(t(_),null,{default:n(()=>[c(m(t(l).accordionMode),1)]),_:1}),o(t(h),{modelValue:t(a).value1,"onUpdate:modelValue":u[2]||(u[2]=s=>t(a).value1=s),accordion:"",offset:!1},{default:n(()=>[o(t(v),{title:t(l).title,name:"1"},{default:n(()=>[c(m(t(l).text),1)]),_:1},8,["title"]),o(t(v),{title:t(l).title,name:"2"},{default:n(()=>[c(m(t(l).text),1)]),_:1},8,["title"])]),_:1},8,["modelValue"]),o(t(_),null,{default:n(()=>[c(m(t(l).disabled),1)]),_:1}),o(t(ae),{direction:"column",size:[8,8]},{default:n(()=>[o(t(le),{onClick:u[3]||(u[3]=s=>i.value=!i.value)},{default:n(()=>[c(m(i.value?t(l).enable:t(l).disabled),1)]),_:1}),o(t(h),{modelValue:t(a).value2,"onUpdate:modelValue":u[4]||(u[4]=s=>t(a).value2=s)},{default:n(()=>[o(t(v),{title:t(l).title,name:1,disabled:i.value},{default:n(()=>[c(m(t(l).text),1)]),_:1},8,["title","disabled"]),o(t(v),{title:t(l).title,name:2,disabled:i.value},{default:n(()=>[c(m(t(l).text),1)]),_:1},8,["title","disabled"])]),_:1},8,["modelValue"])]),_:1}),o(t(_),null,{default:n(()=>[c(m(t(l).customContent),1)]),_:1}),o(t(h),{modelValue:t(a).value3,"onUpdate:modelValue":u[5]||(u[5]=s=>t(a).value3=s)},{default:n(()=>[o(t(v),{title:t(l).slotTitle,name:"1",icon:"account-circle"},{default:n(()=>[c(m(t(l).text),1)]),_:1},8,["title"]),o(t(v),{name:"2"},{title:n(()=>[c(m(t(l).slotTitle),1)]),icon:n(()=>[Ae]),default:n(()=>[c(" "+m(t(l).slotContent),1)]),_:1})]),_:1},8,["modelValue"])],64))}};export{qe as default};
