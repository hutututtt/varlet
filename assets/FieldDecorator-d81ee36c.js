import{I as D}from"./index-033b4f4e.js";import{d as k,c as w,a as S}from"./components-b798c95f.js";import{d as V,a as F,b as E,aM as I,aI as t,_ as z,p as P,f as a,h as i,M as o,N as l,O as y,R as r,Q as B,j as p,i as N,F as M}from"./vue-router-0bbd6486.js";function T(e){return["small","normal"].includes(e)}function j(e){return["outlined","standard"].includes(e)}const q={value:{type:null,required:!0},id:{type:String,default:""},isFocus:{type:Boolean},size:{type:String,default:"normal",validator:T},variant:{type:String,default:"standard",validator:j},placeholder:{type:String},line:{type:Boolean,default:!0},hint:{type:Boolean,default:!0},textColor:{type:String},focusColor:{type:String},blurColor:{type:String},errorMessage:{type:String},formDisabled:{type:Boolean},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},textarea:{type:Boolean,default:!1},cursor:{type:String},composing:{type:Boolean,default:!1},alwaysCustomPlaceholder:{type:Boolean,default:!0},onClick:k(),onClear:k()},{n:v,classes:L}=w("field-decorator"),O=V({name:"VarFieldDecorator",components:{VarIcon:D},props:q,setup(e){const n=F(null),d=F(""),b=E(()=>e.errorMessage?void 0:e.isFocus?e.focusColor:e.blurColor),c=()=>{const{hint:s,value:u,isFocus:m,composing:h}=e;if(!s&&(!t(u)||h))return v("--placeholder-hidden");if(s&&(!t(u)||m))return v("--placeholder-hint")},C=s=>{S(e.onClear,s)},f=s=>{S(e.onClick,s)};return I(()=>{var g;const{hint:s,value:u,isFocus:m,variant:h}=e;if(n.value){if(s&&(!t(u)||m)){const $=((g=window.getComputedStyle(n.value))==null?void 0:g.width)||0;d.value=`translate(-${$}, ${h==="outlined"?"-50%":0})`;return}d.value=""}}),{prependIconEl:n,placeholderTransform:d,color:b,computePlaceholderState:c,n:v,classes:L,isEmpty:t,handleClear:C,handleClick:f}}});const Q=["for"];function R(e,n,d,b,c,C){const f=P("var-icon");return a(),i("div",{class:l(e.classes(e.n(),e.n("$--box"),e.n(`--${e.variant}`),[e.size==="small",e.n("--small")],[e.disabled,e.n("--disabled")])),onClick:n[0]||(n[0]=(...s)=>e.handleClick&&e.handleClick(...s))},[o("div",{class:l(e.classes(e.n("controller"),[e.isFocus,e.n("--focus")],[e.errorMessage,e.n("--error")],[e.formDisabled||e.disabled,e.n("--disabled")])),style:r({color:e.color,cursor:e.cursor})},[o("div",{class:l(e.classes(e.n("icon"),[!e.hint,e.n("--non-hint")])),ref:"prependIconEl"},[y(e.$slots,"prepend-icon")],2),o("div",{class:l(e.classes(e.n("wrap"),[!e.hint,e.n("--wrap-non-hint")]))},[y(e.$slots,"default"),e.hint||e.alwaysCustomPlaceholder?(a(),i("label",{key:0,class:l(e.classes(e.n("placeholder"),e.n("$--ellipsis"),[e.textarea,e.n("placeholder-textarea")],[e.isFocus,e.n("--focus")],[e.formDisabled||e.disabled,e.n("--disabled")],[e.errorMessage,e.n("--error")],[!e.hint,e.n("--placeholder-non-hint")],e.computePlaceholderState())),style:r({color:e.color,transform:e.placeholderTransform}),for:e.id},B(e.placeholder),15,Q)):p("",!0)],2),o("div",{class:l(e.classes(e.n("icon"),[!e.hint,e.n("--non-hint")]))},[y(e.$slots,"append-icon",{},()=>[e.clearable&&!e.isEmpty(e.value)?(a(),N(f,{key:0,class:l(e.n("clear-icon")),"var-field-decorator-cover":"",name:"close-circle",onClick:e.handleClear},null,8,["class","onClick"])):p("",!0)])],2)],6),e.line?(a(),i(M,{key:0},[e.variant==="outlined"?(a(),i("div",{key:0,class:l(e.classes(e.n("line"),[e.isFocus,e.n("--line-focus")],[e.formDisabled||e.disabled,e.n("--line-disabled")]))},[e.formDisabled||e.disabled?p("",!0):(a(),i(M,{key:0},[o("div",{class:l(e.classes(e.n("line-start"),[e.errorMessage,e.n("--line-error")])),style:r({borderColor:e.color})},null,6),o("div",{class:l(e.classes(e.n("line-notch"),[e.hint&&(!e.isEmpty(e.value)||e.isFocus),e.n("line-notch--hint")],[e.errorMessage,e.n("--line-error")])),style:r({borderColor:e.color})},[o("div",{class:l(e.classes(e.n("line-placeholder"),e.n("$--ellipsis")))},B(e.placeholder),3)],6),o("div",{class:l(e.classes(e.n("line-end"),[e.errorMessage,e.n("--line-error")])),style:r({borderColor:e.color})},null,6)],64))],2)):(a(),i("div",{key:1,class:l(e.classes(e.n("line"),[e.formDisabled||e.disabled,e.n("--line-disabled")],[e.errorMessage,e.n("--line-error")])),style:r({background:e.errorMessage?void 0:e.blurColor})},[o("div",{class:l(e.classes(e.n("dot"),[e.isFocus,e.n("--line-focus")],[e.formDisabled||e.disabled,e.n("--line-disabled")],[e.errorMessage,e.n("--line-error")])),style:r({background:e.errorMessage?void 0:e.focusColor})},null,6)],6))],64)):p("",!0)],2)}const H=z(O,[["render",R]]);export{H as V,q as p};
