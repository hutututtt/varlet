import{B as me}from"./index-abb10db4.js";import{d as $,u as ve,a as de,c as j,b as T,e as fe,f as ge}from"./components-02edd959.js";import{d as W,a as f,b as P,w as D,o as pe,aj as Ce,X as he,at as Ne,_ as Z,p as R,f as A,h as L,O as F,i as V,S as b,m as x,j as U,N as M,R as ee,ag as ye,D as Be,M as Ie,F as ae,P as I,Q as k,ac as ke,az as Te,q as l,ap as e,aA as O}from"./vue-router.esm-bundler-0d52b99f.js";import{v as Ae}from"./index-25f40206.js";import{B as _e}from"./index-8f76805f.js";import{I as le}from"./index-c530d756.js";import{S as q}from"./index-fb0edaff.js";import{d as Se}from"./index-59604d2c.js";import{u as Oe,c as Ee,a as te,_ as $e,b as Pe}from"./index-aa3b5d97.js";import"./index-59c1057f.js";import"./elements-3526b86d.js";import"./shared-ed2007b2.js";import"./index-fcb663bb.js";/* empty css               */import"./zIndex-2017f19f.js";import"./lock-e6232335.js";const Ue={active:{type:[Number,String],default:0},fixed:{type:Boolean,default:!1},border:{type:Boolean,default:!1},safeArea:{type:Boolean,default:!1},zIndex:{type:[Number,String],default:1},activeColor:{type:String},inactiveColor:{type:String},onChange:$(),"onUpdate:active":$(),onBeforeChange:$(),onFabClick:$(),fabProps:{type:Object}},ne=Symbol("BOTTOM_NAVIGATION_BIND_BOTTOM_NAVIGATION_ITEM_KEY"),oe=Symbol("BOTTOM_NAVIGATION_COUNT_BOTTOM_NAVIGATION_ITEM_KEY");function Me(){const{childProviders:a,bindChildren:s}=ve(ne),{length:c}=de(oe);return{length:c,bottomNavigationItems:a,bindBottomNavigationItem:s}}const{n:Le,classes:Fe}=j("bottom-navigation"),{n:w}=j("bottom-navigation-item"),Q=w("--right-half-space"),X=w("--left-half-space"),J=w("--right-space"),Ve={type:"primary"},we=W({name:"VarBottomNavigation",components:{VarButton:me},props:Ue,setup(a,{slots:s}){const c=f(null),m=P(()=>a.active),g=P(()=>a.activeColor),C=P(()=>a.inactiveColor),d=f({}),{length:r,bottomNavigationItems:h,bindBottomNavigationItem:N}=Me(),E=()=>{r.value===0||y()||B()||o()},y=()=>h.find(({name:i})=>m.value===i.value),B=()=>h.find(({index:i})=>m.value===i.value),o=()=>{he(m.value)&&(m.value<0?T(a["onUpdate:active"],0):m.value>r.value-1&&T(a["onUpdate:active"],r.value-1))},u=i=>{m.value!==i&&(a.onBeforeChange?se(i):H(i))},se=i=>{let v=T(a.onBeforeChange,i);v=Ne(v)?v:[v],Promise.all(v).then(_=>{_.some(S=>!S)||H(i)})},H=i=>{T(a["onUpdate:active"],i),T(a.onChange,i)},ce=()=>{Y().forEach(v=>{v.classList.remove(Q,X,J)})},K=i=>{const v=Y(),_=v.length,S=i%2===0;v.forEach((z,G)=>{re(S,z,G,_)})},re=(i,v,_,S)=>{const z=_===S-1;if(!i&&z){v.classList.add(J);return}const G=_===S/2-1,be=_===S/2;G?v.classList.add(Q):be&&v.classList.add(X)},Y=()=>Array.from(c.value.querySelectorAll(`.${w()}`)),ue=()=>{T(a.onFabClick)};return N({active:m,activeColor:g,inactiveColor:C,onToggle:u}),D(()=>r.value,E),D(()=>a.fabProps,i=>{d.value={...Ve,...i}},{immediate:!0,deep:!0}),pe(()=>{s.fab&&K(r.value)}),Ce(()=>{ce(),s.fab&&K(r.value)}),{n:Le,classes:Fe,length:r,bottomNavigationDom:c,handleFabClick:ue,fabProps:d}}});function ze(a,s,c,m,g,C){const d=R("var-button");return A(),L("div",{class:M(a.classes(a.n(),[a.fixed,a.n("--fixed")],[a.border,a.n("--border")],[a.safeArea,a.n("--safe-area")])),ref:"bottomNavigationDom",style:ee(`z-index:${a.zIndex}`)},[F(a.$slots,"default"),a.$slots.fab?(A(),V(d,x({key:0,class:a.classes(a.n("fab"),[a.length%2,a.n("--fab-right"),a.n("--fab-center")]),"var-bottom-navigation__fab":"",onClick:a.handleFabClick},a.fabProps,{round:""}),{default:b(()=>[F(a.$slots,"fab")]),_:3},16,["class","onClick"])):U("",!0)],6)}const p=Z(we,[["render",ze]]);p.install=function(a){a.component(p.name,p)};const Ge={name:{type:String},icon:{type:String},label:{type:String},namespace:{type:String,default:"var-icon"},badge:{type:[Boolean,Object],default:!1},onClick:$()};function De(){const{parentProvider:a,bindParent:s}=fe(ne),{index:c}=ge(oe);if(!a||!s||!c)throw Error("<var-bottom-navigation-item/> must in <var-bottom-navigation/>");return{index:c,bottomNavigation:a,bindBottomNavigation:s}}const{n:Re,classes:je}=j("bottom-navigation-item"),He={type:"danger",dot:!0},Ke=W({name:"VarBottomNavigationItem",components:{VarBadge:_e,VarIcon:le},directives:{Ripple:Ae},props:Ge,setup(a){const s=P(()=>a.name),c=P(()=>a.badge),m=f({}),{index:g,bottomNavigation:C,bindBottomNavigation:d}=De(),{active:r,activeColor:h,inactiveColor:N}=C,E={name:s,index:g},y=()=>r.value===s.value||r.value===g.value?h.value:N.value,B=()=>{const o=s.value??g.value;T(a.onClick,o),T(C.onToggle,o)};return d(E),D(()=>c.value,o=>{m.value=o===!0?He:c.value},{immediate:!0}),{n:Re,classes:je,index:g,active:r,badge:c,badgeProps:m,computeColorStyle:y,handleClick:B}}});function Ye(a,s,c,m,g,C){const d=R("var-icon"),r=R("var-badge"),h=ye("ripple");return Be((A(),L("button",{class:M(a.classes(a.n(),[a.active===a.index||a.active===a.name,a.n("--active")])),style:ee({color:a.computeColorStyle()}),onClick:s[0]||(s[0]=(...N)=>a.handleClick&&a.handleClick(...N))},[a.icon&&!a.$slots.icon?(A(),V(d,{key:0,name:a.icon,namespace:a.namespace,class:M(a.n("icon")),"var-bottom-navigation-item-cover":""},null,8,["name","namespace","class"])):U("",!0),F(a.$slots,"icon",{active:a.active===a.index||a.active===a.name}),a.badge?(A(),V(r,x({key:1},a.badgeProps,{class:a.n("badge"),"var-bottom-navigation-item-cover":""}),null,16,["class"])):U("",!0),Ie("span",{class:M(a.n("label"))},[a.$slots.default?U("",!0):(A(),L(ae,{key:0},[I(k(a.label),1)],64)),F(a.$slots,"default")],2)],6)),[[h]])}const n=Z(Ke,[["render",Ye]]);n.install=function(a){a.component(n.name,n)};const qe={basicUsage:"基本使用",matchByName:"通过名称匹配",showBadge:"徽标提示",customColor:"自定义颜色",changeEvent:"监听切换事件",clickEvent:"监听点击事件",fab:"悬浮按钮",label:"标签"},Qe={basicUsage:"Basic Usage",matchByName:"Match by name",showBadge:"Show Badge",customColor:"Custom Color",changeEvent:"Change Event",clickEvent:"Click Event",fab:"Fab",label:"label"},{add:ie,use:Xe,pack:t,packs:da,merge:fa}=Oe(),Je=a=>{Ee(a),Xe(a)};te("zh-CN",$e);te("en-US",Pe);ie("zh-CN",qe);ie("en-US",Qe);const ga={setup(a){const s=f(0),c=f("home"),m=f(0),g={type:"primary",value:"66"},C=f(0),d=f(0),r=f(0),h=f(0),N=f(!0);function E(B){q.info(`changed to ${B}`)}function y(B){q.success(`clicked ${B}`)}return ke(Je),Te(Se),(B,o)=>(A(),L(ae,null,[l(e(O),null,{default:b(()=>[I(k(e(t).basicUsage),1)]),_:1}),l(e(p),{active:s.value,"onUpdate:active":o[0]||(o[0]=u=>s.value=u)},{default:b(()=>[l(e(n),{label:e(t).label,icon:"home"},null,8,["label"]),l(e(n),{label:e(t).label,icon:"magnify"},null,8,["label"]),l(e(n),{label:e(t).label,icon:"heart"},null,8,["label"]),l(e(n),{label:e(t).label,icon:"account-circle"},null,8,["label"])]),_:1},8,["active"]),l(e(O),null,{default:b(()=>[I(k(e(t).matchByName),1)]),_:1}),l(e(p),{active:c.value,"onUpdate:active":o[1]||(o[1]=u=>c.value=u)},{default:b(()=>[l(e(n),{name:"home",label:e(t).label,icon:"home"},null,8,["label"]),l(e(n),{name:"search",label:e(t).label,icon:"magnify"},null,8,["label"]),l(e(n),{name:"heart",label:e(t).label,icon:"heart"},null,8,["label"]),l(e(n),{name:"user",label:e(t).label,icon:"account-circle"},null,8,["label"])]),_:1},8,["active"]),l(e(O),null,{default:b(()=>[I(k(e(t).showBadge),1)]),_:1}),l(e(p),{active:m.value,"onUpdate:active":o[2]||(o[2]=u=>m.value=u)},{default:b(()=>[l(e(n),{label:e(t).label,icon:"home"},null,8,["label"]),l(e(n),{label:e(t).label,icon:"magnify",badge:""},null,8,["label"]),l(e(n),{label:e(t).label,icon:"heart",badge:g},null,8,["label"]),l(e(n),{label:e(t).label,icon:"account-circle"},null,8,["label"])]),_:1},8,["active"]),l(e(O),null,{default:b(()=>[I(k(e(t).customColor),1)]),_:1}),l(e(p),{"active-color":"#ba68c8",active:C.value,"onUpdate:active":o[3]||(o[3]=u=>C.value=u)},{default:b(()=>[l(e(n),{label:e(t).label,icon:"home"},null,8,["label"]),l(e(n),{label:e(t).label,icon:"magnify"},null,8,["label"]),l(e(n),{label:e(t).label,icon:"heart"},null,8,["label"]),l(e(n),{label:e(t).label,icon:"account-circle"},null,8,["label"])]),_:1},8,["active"]),l(e(O),null,{default:b(()=>[I(k(e(t).changeEvent),1)]),_:1}),l(e(p),{active:d.value,"onUpdate:active":o[4]||(o[4]=u=>d.value=u),onChange:E},{default:b(()=>[l(e(n),{label:e(t).label,icon:"home"},null,8,["label"]),l(e(n),{label:e(t).label,icon:"magnify"},null,8,["label"]),l(e(n),{label:e(t).label,icon:"heart"},null,8,["label"]),l(e(n),{label:e(t).label,icon:"account-circle"},null,8,["label"])]),_:1},8,["active"]),l(e(O),null,{default:b(()=>[I(k(e(t).clickEvent),1)]),_:1}),l(e(p),{active:r.value,"onUpdate:active":o[5]||(o[5]=u=>r.value=u)},{default:b(()=>[l(e(n),{onClick:y,label:e(t).label,icon:"home"},null,8,["label"]),l(e(n),{onClick:y,label:e(t).label,icon:"magnify"},null,8,["label"]),l(e(n),{onClick:y,label:e(t).label,icon:"heart"},null,8,["label"]),l(e(n),{onClick:y,label:e(t).label,icon:"account-circle"},null,8,["label"])]),_:1},8,["active"]),l(e(O),null,{default:b(()=>[I(k(e(t).fab),1)]),_:1}),l(e(p),{active:h.value,"onUpdate:active":o[6]||(o[6]=u=>h.value=u),onFabClick:o[7]||(o[7]=u=>N.value=!N.value),style:{"margin-top":"10px"}},{fab:b(()=>[l(e(le),{name:"heart"})]),default:b(()=>[l(e(n),{label:e(t).label,icon:"home"},null,8,["label"]),l(e(n),{label:e(t).label,icon:"magnify"},null,8,["label"]),l(e(n),{label:e(t).label,icon:"heart"},null,8,["label"]),l(e(n),{label:e(t).label,icon:"bell"},null,8,["label"]),N.value?U("",!0):(A(),V(e(n),{key:0,label:e(t).label,icon:"account-circle"},null,8,["label"]))]),_:1},8,["active"])],64))}};export{ga as default};
