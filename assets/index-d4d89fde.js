import{F as W,u as w}from"./provide-1db4002d.js";import{d as b,k as z,a as t,c as B}from"./components-b798c95f.js";import{u as P}from"./index-f6610f0f.js";import{d as S,b as c,w as _,aP as x,n as q,_ as D,p as L,f as O,h as j,M as H,O as I,N as y,q as J}from"./vue-router-0bbd6486.js";function K(e){return["horizontal","vertical"].includes(e)}const Q={modelValue:{type:Array,default:()=>[]},max:{type:[String,Number]},direction:{type:String,default:"horizontal",validator:K},validateTrigger:{type:Array,default:["onChange"]},rules:{type:Array},onChange:b(),"onUpdate:modelValue":b()},{n:R,classes:X}=B("checkbox-group"),Y=S({name:"VarCheckboxGroup",components:{VarFormDetails:W},props:Q,setup(e){const d=c(()=>e.max),u=c(()=>e.modelValue.length),{length:m,checkboxes:s,bindCheckboxes:h}=P(),{bindForm:r}=w(),{errorMessage:f,validateWithTrigger:A,validate:M,resetValidation:l}=z(),U=c(()=>f.value),$=a=>{q(()=>{const{validateTrigger:o,rules:n,modelValue:E}=e;A(o,a,n,E)})},g=a=>{t(e["onUpdate:modelValue"],a),t(e.onChange,a),$("onChange")},F=a=>{const{modelValue:o}=e;o.includes(a)||g([...o,a])},G=a=>{const{modelValue:o}=e;o.includes(a)&&g(o.filter(n=>n!==a))},v=()=>s.forEach(({sync:a})=>a(e.modelValue)),V=()=>{s.forEach(a=>a.resetWithAnimation())},N=()=>{const a=s.map(({checkedValue:n})=>n.value),o=x(a);return V(),t(e["onUpdate:modelValue"],o),o},T=()=>{const a=s.filter(({checked:n})=>!n.value).map(({checkedValue:n})=>n.value),o=x(a);return V(),t(e["onUpdate:modelValue"],o),o},k=()=>{t(e["onUpdate:modelValue"],[]),l()},p=()=>M(e.rules,e.modelValue);_(()=>e.modelValue,v,{deep:!0}),_(()=>m.value,v);const C={max:d,checkedCount:u,onChecked:F,onUnchecked:G,validate:p,resetValidation:l,reset:k,errorMessage:U};return h(C),t(r,C),{errorMessage:f,n:R,classes:X,checkAll:N,inverseAll:T,reset:k,validate:p,resetValidation:l}}});function Z(e,d,u,m,s,h){const r=L("var-form-details");return O(),j("div",{class:y(e.n("wrap"))},[H("div",{class:y(e.classes(e.n(),e.n(`--${e.direction}`)))},[I(e.$slots,"default")],2),J(r,{"error-message":e.errorMessage},null,8,["error-message"])],2)}const i=D(Y,[["render",Z]]);i.install=function(e){e.component(i.name,i)};export{i as C};
